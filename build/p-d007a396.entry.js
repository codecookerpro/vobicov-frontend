import{r as t,h as e,c as s,g as i}from"./p-f64a55b6.js";import"./p-c50318f7.js";import"./p-750b86e2.js";import{a}from"./p-ebd93abc.js";const n=class{constructor(i){t(this,i),this.classes="",this.label="Default label",this.fields={day:{label:"Day"},month:{label:"Month"},year:{label:"Year"}},this.order=["day","month","year"],this.errorMessage="Please enter a valid date",this.futureAllowed=!0,this.pastAllowed=!0,this.onFocus=t=>{t.target.value&&this.showErrorMessage(t.target)},this.handleInput=()=>{const{order:t,host:e}=this;this.errorAt=-1,e.querySelectorAll("input").forEach(t=>this.setErrorMessage(t,!0));const s=[...Array.prototype.slice.call(e.querySelectorAll("input"))].map(t=>""===t.value?null:parseInt(t.value,10)),i=t.findIndex(t=>"year"===t),a=t.findIndex(t=>"month"===t),n=t.findIndex(t=>"day"===t),r=s[i],l=null!==s[a]?s[a]-1:null,o=s[n];this.validDay(o,n)&&this.validMonth(l,a)&&this.validYear(r,i)&&this.validDate(o,l,r,s)&&this.dateChangeHandler(`${r}-${this.zeroPadded(l+1)}-${this.zeroPadded(o)}`),this.showErrorMessage(document.activeElement)},this.zeroPadded=t=>`${("0"+t).slice(-2)}`,this.inFuture=t=>t.setHours(0,0,0,0)>(new Date).setHours(0,0,0,0),this.inPast=t=>t.setHours(0,0,0,0)<(new Date).setHours(0,0,0,0),this.getPattern=t=>"year"===t?"[0-9]{4}":"[0-9]{0,2}",this.getInput=(t,s,i)=>e("div",{class:"fieldset__item"},e("d4l-input",{id:`${t}__${i}`,classes:"input--small input--center",label:s.label,type:"text",pattern:this.getPattern(t),inputmode:"numeric",required:!0,onInput:this.handleInput,error:this.errorAt===i||-2===this.errorAt,placeholder:s.placeholder,hiddenlabel:!0,handleFocus:this.onFocus})),this.dateChange=s(this,"dateChange",7)}dateChangeHandler(t){this.dateChange.emit({value:t})}validDate(t,e,s,i){const a=new Date(s,e,t);return!(!i.every(t=>null!==t)||(!a||a.getMonth()!==e||!s||4!==s.toString().length||a.getFullYear()!==s||!this.futureAllowed&&this.inFuture(a)||!this.pastAllowed&&this.inPast(a))&&(this.setErrorMessage(0,!1,!0),1))}validDay(t,e){return!(null===t||NaN===t||(t.toString().length>2||t<1||t>31)&&(this.setErrorMessage(e),1))}validMonth(t,e){return!(null===t||NaN===t||(t.toString().length>2||t<0||t>11)&&(this.setErrorMessage(e),1))}validYear(t,e){return null!==t&&NaN!==t&&(4===t.toString().length||(this.setErrorMessage(e),!1))}setErrorMessage(t,e=!1,s=!1){try{("number"==typeof t?this.host.querySelectorAll("input")[t]:t).setCustomValidity(e?"":this.errorMessage),e||"number"!=typeof t||(this.errorAt=s?-2:t)}catch(i){}}showErrorMessage(t){try{t.reportValidity()}catch(e){}}render(){const{classes:t,label:s,fields:i,order:a}=this;return e("div",{class:`date-input ${t}`},e("fieldset",{class:"fieldset"},s&&e("legend",{class:"fieldset__label"},s),e("div",{class:"fieldset__row"},a.map((t,e)=>this.getInput(t,i[t],e)))))}get host(){return i(this)}};n.style=".fieldset.sc-d4l-date-input{min-width:0;margin:0;padding:0;border:0}.fieldset.sc-d4l-date-input>legend.sc-d4l-date-input{padding:0}.fieldset__row.sc-d4l-date-input::after,.fieldset__item.sc-d4l-date-input::after{content:'';display:block;clear:both}.fieldset__item.sc-d4l-date-input{display:inline-block;margin-right:20px;margin-bottom:0;position:relative}.fieldset__item.sc-d4l-date-input label.sc-d4l-date-input{display:block}";const r=class{constructor(e){t(this,e),this.classes="",this.value=0}componentDidLoad(){this.linearProgressElement.style.setProperty("--progress-percentage",`${-1*(100-this.value)}%`)}componentDidUpdate(){this.linearProgressElement.style.setProperty("--progress-percentage",`${-1*(100-this.value)}%`)}render(){const{classes:t,value:s}=this;return e("div",{role:"progressbar","aria-valuenow":s,class:`linear-progress ${t}`,ref:t=>this.linearProgressElement=t})}};r.style=".linear-progress.sc-d4l-linear-progress{--progress-percentage:0;width:auto;height:5px;background-color:var(--c-gray-lightest);position:relative;overflow:hidden}.linear-progress.sc-d4l-linear-progress::after{content:'';position:absolute;top:0;left:0;right:0;height:5px;background-color:var(--c-primary);-webkit-transition:-webkit-transform 0.2s linear;transition:-webkit-transform 0.2s linear;transition:transform 0.2s linear;transition:transform 0.2s linear, -webkit-transform 0.2s linear;-webkit-transform:translateX(var(--progress-percentage));transform:translateX(var(--progress-percentage))}";const l=class{constructor(e){t(this,e),this.checkedAnswers=[],this.updateFormData=s(this,"updateFormData",7)}async changedLanguageHandler(t){const{detail:e}=t;this.language=e}updateFormDataHandler(t,e){this.updateFormData.emit({key:t,value:e})}onQuestionChange(){this.checkedAnswers=[]}componentDidLoad(){this.updateFormDataHandler(this.question.id,this.checkedAnswers)}componentDidUpdate(){this.updateFormDataHandler(this.question.id,this.checkedAnswers)}updateCheckedAnswers(t,e){this.checkedAnswers=t?[...Array.from(new Set([...this.checkedAnswers,e]))]:this.checkedAnswers.filter(t=>t!==e),this.updateFormDataHandler(this.question.id,this.checkedAnswers)}render(){const{question:t}=this,s=(t,e)=>{const{type:s}=t,i=t.target;if("click"===s&&null!==e){const t=document.querySelector(`#${e}`);this.updateCheckedAnswers(t.checked,t.value)}else this.updateCheckedAnswers(i.checked,i.value)};return e("span",null,t.options.map((i,n)=>""!==i.label&&""!==i.id&&e("p",null,e("d4l-checkbox",{key:t.id,"checkbox-id":`${t.id}-option${n}`,name:t.id,checked:this.checkedAnswers.indexOf(i.id)>-1,label:a.t(i.label),value:n.toString(),handleChange:t=>s(t,null),onClick:e=>s(e,`${t.id}-option${n}`)}))))}static get watchers(){return{question:["onQuestionChange"]}}};l.style=":host{display:block}";const o=class{constructor(e){t(this,e),this.updateFormData=s(this,"updateFormData",7)}async changedLanguageHandler(t){const{detail:e}=t;this.language=e}updateFormDataHandler(t,e){this.updateFormData.emit({key:t,value:e})}render(){const{question:t}=this,s=t=>{this.updateFormDataHandler(this.question.id,t.target.value)};return e("span",null,e("d4l-input",{name:t.id,pattern:"(?!01000|99999)(0[1-9]\\d{3}|[1-9]\\d{4})",inputmode:"numeric",required:!0,label:a.t("input_postal_code_label"),onInput:t=>s(t)}))}},h=class{constructor(e){t(this,e),this.updateFormData=s(this,"updateFormData",7)}async changedLanguageHandler(t){const{detail:e}=t;this.language=e}updateFormDataHandler(t,e){this.updateFormData.emit({key:t,value:e})}render(){const{question:t,currentSelection:s}=this,i=(t,e)=>{const{type:s}=t,i=t.target;if("click"===s&&null!==e){const t=document.querySelector(`#${e}`);this.updateFormDataHandler(t.name,t.value)}else this.updateFormDataHandler(i.name,i.value)};return e("span",null,t.options.map((n,r)=>""!==n&&e("p",null,e("d4l-radio",{"radio-id":`${t.id}-option${r}`,name:t.id,value:r.toString(),checked:s===r.toString(),required:!0,label:a.t(n),handleChange:t=>i(t,null),onClick:e=>i(e,`${t.id}-option${r}`)}))))}};h.style=":host{display:block}";export{n as d4l_date_input,r as d4l_linear_progress,l as ia_input_multiple_choice,o as ia_input_postal_code,h as ia_input_radio}