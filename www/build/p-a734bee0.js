import{L as t,a as e}from"./p-58a1d276.js";import{_ as n,a as i,i as o}from"./p-750b86e2.js";var a=[],r=a.forEach,s=a.slice;function c(t){return r.call(s.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}var u,f={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}(t.lookupCookie);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,n,i){var o;if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),o="; expires="+a.toGMTString()}else o="";i=i?"domain="+i+";":"",document.cookie=t+"="+e+o+";"+i+"path=/"}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain)}},h={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("=");o>0&&n[i].substring(0,o)===t.lookupQuerystring&&(e=n[i].substring(o+1))}return e}};try{u="undefined"!==window&&null!==window.localStorage,window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(x){u=!1}var g={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&u){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&u&&window.localStorage.setItem(e.lookupLocalStorage,t)}},l={name:"navigator",lookup:function(){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var e=0;e<navigator.languages.length;e++)t.push(navigator.languages[e]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},d={name:"htmlTag",lookup:function(t){var e,n=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(e=n.getAttribute("lang")),e}},p={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;e=n[t.lookupFromPathIndex].replace("/","")}else e=n[0].replace("/","")}return e}},v={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return e}},k=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return n(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=c(e,this.options||{},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(f),this.addDetector(h),this.addDetector(g),this.addDetector(l),this.addDetector(d),this.addDetector(p),this.addDetector(v)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var n,i=[];if(t.forEach((function(t){if(e.detectors[t]){var n=e.detectors[t].lookup(e.options);n&&"string"==typeof n&&(n=[n]),n&&(i=i.concat(n))}})),i.forEach((function(t){if(!n){var i=e.services.languageUtils.formatLanguageCode(t);e.options.checkWhitelist&&!e.services.languageUtils.isWhitelisted(i)||(n=i)}})),!n){var o=this.i18nOptions.fallbackLng;"string"==typeof o&&(o=[o]),o||(o=[]),n="[object Array]"===Object.prototype.toString.apply(o)?o[0]:o[0]||o.default&&o.default[0]}return n}},{key:"cacheUserLanguage",value:function(t,e){var n=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})))}}]),t}();k.type="languageDetector";const w="accepts_tracking",m=new class{constructor(){this._pending={},this._changeHandlers=[]}get acceptsCookies(){return"true"===this.getLocalStorageValue("accepts_cookies")}set acceptsCookies(t){this.setLocalStorageValue("accepts_cookies",t?"true":"false",!1)}get acceptsTracking(){return"true"===this.getLocalStorageValue("accepts_tracking")}set acceptsTracking(t){this.setLocalStorageValue("accepts_tracking",t?"true":"false",!1)}get hasMadeCookieChoice(){return null!==this.getLocalStorageValue("accepts_cookies")||null!==this.getLocalStorageValue("accepts_tracking")}get language(){return this.getLocalStorageValue("user_language")}set language(t){this.setLocalStorageValue("user_language",t)}getLocalStorageValue(t){if(t in this)return this[t];if(!window.localStorage)return null;const e=localStorage.getItem(t);return null!==e&&(this[t]=e),e}setLocalStorageValue(t,e,n=!0){if(!n||this.acceptsCookies)return this[t]=e,window.localStorage&&localStorage.setItem(t,e),this._changeHandlers.forEach(n=>n(t,e)),e;this._pending=Object.assign(Object.assign({},this._pending),{[t]:e})}onChange(t){this._changeHandlers=(this._changeHandlers||[]).concat([t])}applyPending(){this.acceptsCookies&&this._pending&&(Object.keys(this._pending).forEach(t=>{this.setLocalStorageValue(t,this._pending[t],!1)}),this._pending={})}};m.onChange(t=>{"accepts_cookies"===t&&m.applyPending()});const y=e,b=new k;b.addDetector({name:"custom",lookup(t){const{lookupQuerystring:e}=t;return(document.location.href.match(new RegExp(`[?&]${e}=([a-z]{2})`))||[]).pop()||m.language||(navigator.language||"").split("-").shift()},cacheUserLanguage(t){m.language=t}});const L={order:["custom"],caches:["custom"]},_=new Promise(e=>{o.use(b).init({detection:L,fallbackLng:"en",whitelist:y.map(({code:t})=>t),resources:t}).then(()=>e(o.language))});export{w as A,y as L,o as a,_ as i,m as s}