import{r as e,c as t,h as i}from"./p-f64a55b6.js";import{W as n,D as o,d as s}from"./p-58a1d276.js";import"./p-750b86e2.js";import{a}from"./p-a734bee0.js";import{L as r,M as d}from"./p-5aac379d.js";import"./p-5b643f6a.js";const c=(e,t)=>e.reduce((e,i)=>(e[i[t]]=i,e),{}),l=(e,t,i)=>{let n=[];for(const o in t){p(o,e,t,i)&&(e[o]="1");const s=t[o];if(!e[o]&&"group"!==s.type){if(t[o].required&&u(s.enableWhen,t,e,i,s.enableBehavior))throw new Error(`Question ${o} has no related answer`);continue}let a=null,r=null;if("choice"===s.type&&s.answerValueSet){const n=m(i,s);if(void 0===n){if(t[o].required)throw new Error(`Response ${o} has no related value set`);continue}a=[{valueCoding:y(o,n,e)}]}else if("date"===s.type)a=[{valueDate:e[o].replace(/\./g,"-")}];else if("string"===s.type)a=[{valueString:e[o]}];else{if("group"!==s.type)throw new Error(`Question ${o} has an unknown type`);r=l(e,c(s.item,"linkId"),i)}n=[...n,Object.assign(Object.assign({linkId:o,text:s.text},null!==a&&{answer:a}),null!==r&&{item:r})]}return n},p=(e,t,i,n)=>void 0===t[e]&&i[e].required&&["S0","S3","S4","S5","S6","S7","S8","S9","SA","SB","SC"].includes(i[e].linkId)&&u(i[e].enableWhen,i,t,n,i[e].enableBehavior),u=(e,t,i,n,o)=>{if(!e)return!0;if(1===e.length)return h(e[0],t,i,n);if("any"===o)return e.some(e=>h(e,t,i,n));if("all"===o)return e.every(e=>h(e,t,i,n));throw new Error("Invalid Questionnaire resource: multiple enableWhen conditions present but no enableBehaviour specified")},h=(e,t,i,n)=>{const o=t[e.question],s=m(n,o),a=y(o.linkId,s,i);return a.code===e.answerCoding.code&&a.system===e.answerCoding.system},m=(e,t)=>e[t.answerValueSet.replace("#","")],y=(e,t,i)=>{const n=t.expansion.contains[i[e]];return{system:n.system,code:n.code}},g={resourceType:"Questionnaire",url:"http://fhir.data4life.care/covid-19/r4/Questionnaire/covid19-recommendation",version:"3.0.0",date:"2020-04-24T22:00:00.000Z",subjectType:["Patient"],status:"draft",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],copyright:"D4L data4life gGmbH, Charité – Universitätsmedizin Berlin, BIH - Berliner Institut für Gesundheitsforschung, hih - health innovation hub des Bundesministeriums für Gesundheit, and MOLIT Institut gGmbH",description:"COVID-19 assessment questionnaire",name:"Covid19_assesment_questionnaire",code:[{system:"http://loinc.org",code:"84170-0",display:"Infectious disease Risk assessment and screening note"}],item:[{type:"group",required:!0,linkId:"P",text:"Personal information",item:[{type:"choice",required:!0,linkId:"P0",code:[{code:"46251-5",display:"Age group",system:"http://loinc.org"}],text:"How old are you?",answerValueSet:"#age-group"},{type:"choice",required:!0,linkId:"P1",code:[{code:"21612-7",display:"Age - Reported",system:"http://loinc.org"}],text:"Are you 65 years old or older?",enableWhen:[{question:"P0",operator:"=",answerCoding:{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",code:"61-70"}}],answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"P2",code:[{code:"71802-3",display:"Housing status",system:"http://loinc.org"}],text:"What is your current living situation?",answerValueSet:"#housing-situation"},{type:"choice",required:!0,linkId:"P3",text:"At least once a week, do you privately care for people with age-related conditions, chronic illnesses, or frailty?",answerValueSet:"#yesno",item:[{linkId:"P3-Explanation",type:"display",text:"Care services or support that you provide in connection with your professional activity isn't meant."}]},{type:"choice",required:!0,linkId:"P4",code:[{code:"85658-3",display:"Occupation [Type]",system:"http://loinc.org"}],text:"Do you work in one of the following areas?",answerValueSet:"#occupation-class"},{type:"choice",required:!0,linkId:"P5",code:[{code:"72166-2",display:"Tobacco smoking status",system:"http://loinc.org"}],text:"Do you smoke?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"P6",code:[{code:"82810-3",display:"Pregnancy status",system:"http://loinc.org"}],text:"Are you pregnant?",answerValueSet:"#LL4129-4"}]},{type:"group",required:!0,linkId:"C",text:"Contact with COVID-19 cases",item:[{type:"choice",required:!0,linkId:"C0",code:[{code:"840546002",display:"Exposure to SARS-CoV-2",system:"http://snomed.info/sct"}],text:"Have you had close contact with a confirmed case?",answerValueSet:"#yesno",item:[{linkId:"C0-Explanation",type:"display",text:'Close contact with a confirmed case means:\n\n* Face-to-face contact for longer than 15 minutes\n* Direct, physical contact (touching, shaking hands, kissing)\n* Being within 1.5 meters of the person for more than 15 minutes\n* Contact with or exchange of body fluids\n* Living in the same apartment\n\n\nChoose "no" if you have worn adequate protective measures (mask, smock) on contact.'}]},{type:"date",required:!0,linkId:"CZ",code:[{code:"94652-5",display:"Known exposure date",system:"http://loinc.org"}],text:"What day was the last contact?",enableWhen:[{question:"C0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],item:[{linkId:"CZ-Explanation",type:"display",text:"Make sure to enter a full date in the DD MM YYYY format that isn’t in the future."}]}]},{type:"group",required:!0,linkId:"S",text:"Symptoms",item:[{type:"choice",required:!0,linkId:"S0",code:[{code:"386661006",display:"Fever (finding)",system:"http://snomed.info/sct"}],text:"Have you had a fever (over 38°C) in the past 24 hours?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"S1",code:[{code:"386661006",display:"Fever (finding)",system:"http://snomed.info/sct"}],text:"Have you had a fever (over 38°C) in the past 4 days?",answerValueSet:"#yesno",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA32-8"}}]},{type:"choice",required:!0,linkId:"S2",code:[{code:"8315-4",display:"Body temperature 24 hour maximum",system:"http://loinc.org"}],text:"What was the highest temperature, approx.?",answerValueSet:"#fever-class",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S1",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],enableBehavior:"any"},{type:"choice",required:!0,linkId:"S3",code:[{code:"43724002",display:"Chill (finding)",system:"http://snomed.info/sct"}],text:"Have you had chills in the past 24 hours?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"S4",code:[{code:"84229001",display:"Fatigue (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you felt tired or worn out?",answerValueSet:"#yesno",item:[{linkId:"S4-Explanation",type:"display",text:"The question relates to acute or exacerbated symptoms and excludes chronic complaints or seasonal or allergic complaints. If you have a chronic illness, compare your current symptoms with your previous problems to answer the question."}]},{type:"choice",required:!0,linkId:"S5",code:[{code:"68962001",display:"Muscle pain (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had body aches?",answerValueSet:"#yesno",item:[{linkId:"S5-Explanation",type:"display",text:"The question relates to acute or exacerbated symptoms and excludes chronic complaints or seasonal or allergic complaints. If you have a chronic illness, compare your current symptoms with your previous problems to answer the question."}]},{type:"choice",required:!0,linkId:"S6",code:[{code:"49727002",display:"Cough (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had a persistent cough?",answerValueSet:"#yesno",item:[{linkId:"S6-Explanation",type:"display",text:"The question relates to cold symptoms and excludes chronic cough, seasonal or allergy-related cough. If you have a chronic cough, compare your current coughing to your regular problems."}]},{type:"choice",required:!0,linkId:"S7",code:[{code:"82272006",display:"Common cold (disorder)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had a runny nose?",answerValueSet:"#yesno",item:[{linkId:"S7-Explanation",type:"display",text:"The question relates to cold symptoms and excludes chronic runny nose, seasonal or allergy-related runny nose. If you have chronic sniffling, compare your current conditions with your existing problems."}]},{type:"choice",required:!0,linkId:"S8",code:[{code:"62315008",display:"Diarrhea (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had diarrhea?",answerValueSet:"#yesno",item:[{linkId:"S8-Explanation",type:"display",text:"The question relates to acute or exacerbated symptoms and excludes chronic complaints or seasonal or allergic complaints. If you have a chronic illness, compare your current symptoms with your previous problems to answer the question."}]},{type:"choice",required:!0,linkId:"S9",code:[{code:"162397003",display:"Pain in throat (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had a sore throat?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"SA",code:[{code:"25064002",display:"Headache (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, have you had a headache?",answerValueSet:"#yesno",item:[{linkId:"SA-Explanation",type:"display",text:"The question relates to acute or exacerbated symptoms and excludes chronic complaints or seasonal or allergic complaints. If you have a chronic illness, compare your current symptoms with your previous problems to answer the question."}]},{type:"choice",required:!0,linkId:"SB",code:[{code:"267036007",display:"Dyspnea (finding)",system:"http://snomed.info/sct"}],text:"In the past 24 hours, did you feel that you were more quickly out of breath than usual?",answerValueSet:"#yesno",item:[{linkId:"SB-Explanation",type:"display",text:'Choose "Yes" if you:\n* Become breathless faster than usual or have difficulty breathing with light loads, such as a walk or climbing a short flight of stairs\n* Experience difficulty breathing or shortness of breath when sitting or lying down\n* Have a feeling of breathlessness/shortness of breath when getting up from bed or a chair\n\n\nIf you have chronic lung disease, compare your current breathing problems with your existing breathing problems.'}]},{type:"choice",required:!0,linkId:"SC",code:[{code:"44169009",display:"Loss of sense of smell (finding)",system:"http://snomed.info/sct"}],text:"Have you had any taste and/or smell loss in the last 24 hours?",answerValueSet:"#yesno",item:[{linkId:"SC-Explanation",type:"display",text:"The question relates to acute or exacerbated symptoms and excludes chronic complaints or seasonal or allergic complaints. If you have a chronic illness, compare your current symptoms with your previous problems to answer the question."}]},{type:"date",required:!0,linkId:"SZ",code:[{code:"85585-8",display:"Date of condition onset",system:"http://loinc.org"}],text:"With regard to all questions about symptoms: since when have you had the symptoms you specified?",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S1",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S3",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S4",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S5",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S6",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S7",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S8",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S9",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SA",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SB",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SC",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],enableBehavior:"any",item:[{linkId:"SZ-Explanation",type:"display",text:"Make sure to enter a full date in the DD MM YYYY format that isn’t in the future."}]}]},{type:"group",required:!0,linkId:"D",text:"Chronic illnesses",item:[{type:"choice",required:!0,linkId:"D0",code:[{code:"413839001",display:"Chronic lung disease (disorder)",system:"http://snomed.info/sct"}],text:"Have you been diagnosed with chronic lung disease by a doctor?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D1",code:[{code:"73211009",display:"Diabetes mellitus (disorder)",system:"http://snomed.info/sct"}],text:"Have you been diagnosed with diabetes by a doctor?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D2",code:[{code:"56265001",display:"Heart disease (disorder)",system:"http://snomed.info/sct"}],text:"Have you been diagnosed with heart disease by a doctor?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D3",code:[{code:"414916001",display:"Obesity (disorder)",system:"http://snomed.info/sct"}],text:"Have you been diagnosed with obesity by a doctor?",answerValueSet:"#yesnodontknow"}]},{type:"group",required:!0,linkId:"M",text:"Medication",item:[{type:"choice",required:!0,linkId:"M0",code:[{code:"steroid-intake",display:"Taking steroids",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Are you currently taking steroids?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"M1",code:[{code:"immunosuppressant-intake",display:"Taking immunosuppressants",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Are you currently taking immunosuppressants?",answerValueSet:"#yesnodontknow",item:[{linkId:"M1-Explanation",type:"display",text:"You take or get immunosuppresives after an organ transplant, in the therapy of an autoimmune disease, or during chemotherapy."}]},{type:"choice",required:!0,linkId:"M2",code:[{code:"recent-influenza-vaccine",display:"Influenza vaccine for the current influenza season",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Have you been vaccinated against flu between October 2019 and today?",answerValueSet:"#yesno"}]}],language:"en",contained:[{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/age-group",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Agegroup",status:"active",description:"Age groups",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group"}]},language:"en",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:bff77d6a-8949-4827-bbb2-4036ac656e38",contains:[{code:"below-40",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"under 40"},{code:"40-50",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"40-50"},{code:"51-60",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"51-60"},{code:"61-70",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"61-70"},{code:"71-80",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"71-80"},{code:"above-80",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"over 80"}]},id:"age-group"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/yesno",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Yesno",status:"active",description:"Yes/No",immutable:!1,compose:{include:[{system:"http://loinc.org",concept:[{code:"LA33-6"},{code:"LA32-8"}]}]},language:"en",expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:422819bd-a17f-4213-8a99-8017eb949acd",contains:[{code:"LA33-6",system:"http://loinc.org",display:"Yes"},{code:"LA32-8",system:"http://loinc.org",display:"No"}]},id:"yesno"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/housing-situation",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Housingsituation",status:"active",immutable:!1,description:"Living situation",compose:{include:[{system:"http://loinc.org",concept:[{code:"LA6255-9"},{code:"LA9996-5"}]}]},language:"en",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:dec6447f-0484-4518-afa8-8f537848777d",contains:[{code:"LA6255-9",system:"http://loinc.org",display:"Lives alone"},{code:"LA9996-5",system:"http://loinc.org",display:"Lives with other(s)"}]},id:"housing-situation"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/occupation-class",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Occupationclass",status:"active",description:"Occupation",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class"},{system:"http://loinc.org",concept:[{code:"LA46-8"}]}]},language:"en",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:69612264-130d-4ac2-9a89-e813533b7323",contains:[{code:"medical",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class",display:"Medical field"},{code:"community",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class",display:"Community facility (school, day care center, university, nursing home etc.)"},{code:"LA46-8",system:"http://loinc.org",display:"Other"}]},id:"occupation-class"},{resourceType:"ValueSet",language:"en",url:"http://loinc.org/vs/LL4129-4",identifier:[{system:"urn:ietf:rfc:3986",value:"urn:oid:1.3.6.1.4.1.12009.10.1.2727"}],version:"Loinc_2.67",name:"Pregnant|Not pregnant|Unknown",status:"active",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],copyright:"This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at https://loinc.org/license/",compose:{include:[{system:"http://loinc.org",concept:[{code:"LA15173-0"},{code:"LA26683-5"},{code:"LA4489-6"}]}]},expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:44e196bf-ace5-44e9-9a44-2165959a1ac7",contains:[{code:"LA15173-0",system:"http://loinc.org",display:"Pregnant"},{code:"LA26683-5",system:"http://loinc.org",display:"Not pregnant"},{code:"LA4489-6",system:"http://loinc.org",display:"Unknown"}]},id:"LL4129-4"},{resourceType:"ValueSet",language:"en",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/fever-class",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Feverclass",status:"active",description:"Fever groups",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class"},{system:"http://loinc.org",concept:[{code:"LA12688-0"}]}]},expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:2cfa7f58-ce3f-4d51-a1ac-7e57cb9d9033",contains:[{code:"below-38C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"< 38 °C"},{code:"38C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"38 °C"},{code:"39C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"39 °C"},{code:"40C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"40 °C"},{code:"41C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"41 °C"},{code:"42C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"42 °C"},{code:"above-42C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"> 42 °C"},{code:"LA12688-0",system:"http://loinc.org",display:"Don't know"}]},id:"fever-class"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/yesnodontknow",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Yesnodontknow",status:"active",description:"Yes/no/don't know",immutable:!1,compose:{include:[{system:"http://loinc.org",concept:[{code:"LA33-6"},{code:"LA32-8"},{code:"LA12688-0"}]}]},language:"en",expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:cb2433bb-4a75-440c-a3d4-eaf216ddc8d7",contains:[{code:"LA33-6",system:"http://loinc.org",display:"Yes"},{code:"LA32-8",system:"http://loinc.org",display:"No"},{code:"LA12688-0",system:"http://loinc.org",display:"Don't know"}]},id:"yesnodontknow"}]},f={resourceType:"Questionnaire",url:"http://fhir.data4life.care/covid-19/r4/Questionnaire/covid19-recommendation",version:"3.0.0",date:"2020-04-24T22:00:00.000Z",subjectType:["Patient"],status:"draft",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],copyright:"D4L data4life gGmbH, Charité – Universitätsmedizin Berlin, BIH - Berliner Institut für Gesundheitsforschung, hih - health innovation hub des Bundesministeriums für Gesundheit, and MOLIT Institut gGmbH",description:"COVID-19 assessment questionnaire",name:"Covid19_assesment_questionnaire",code:[{system:"http://loinc.org",code:"84170-0",display:"Infectious disease Risk assessment and screening note"}],item:[{type:"group",required:!0,linkId:"P",text:"Persönliche Informationen",item:[{type:"choice",required:!0,linkId:"P0",code:[{code:"46251-5",display:"Age group",system:"http://loinc.org"}],text:"Wie alt sind Sie?",answerValueSet:"#age-group"},{type:"choice",required:!0,linkId:"P1",code:[{code:"21612-7",display:"Age - Reported",system:"http://loinc.org"}],text:"Sind Sie älter oder gleich 65 Jahre alt?",enableWhen:[{question:"P0",operator:"=",answerCoding:{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",code:"61-70"}}],answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"P2",code:[{code:"71802-3",display:"Housing status",system:"http://loinc.org"}],text:"Wie ist Ihre aktuelle Wohnsituation?",answerValueSet:"#housing-situation"},{type:"choice",required:!0,linkId:"P3",text:"Pflegen oder unterstützen Sie privat mindestens einmal pro Woche eine oder mehrere Personen mit altersbedingten Beschwerden, chronischen Erkrankungen oder Gebrechlichkeit?",answerValueSet:"#yesno",item:[{linkId:"P3-Explanation",type:"display",text:"Nicht gemeint sind Pflegeleistungen oder Unterstützung, die Sie im Zusammenhang mit Ihrer beruflichen Tätigkeit erbringen."}]},{type:"choice",required:!0,linkId:"P4",code:[{code:"85658-3",display:"Occupation [Type]",system:"http://loinc.org"}],text:"Sind Sie in einem der folgenden Bereiche tätig?",answerValueSet:"#occupation-class"},{type:"choice",required:!0,linkId:"P5",code:[{code:"72166-2",display:"Tobacco smoking status",system:"http://loinc.org"}],text:"Rauchen Sie?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"P6",code:[{code:"82810-3",display:"Pregnancy status",system:"http://loinc.org"}],text:"Sind Sie schwanger?",answerValueSet:"#LL4129-4"}]},{type:"group",required:!0,linkId:"C",text:"Kontakte zu COVID-19-Fällen",item:[{type:"choice",required:!0,linkId:"C0",code:[{code:"840546002",display:"Exposure to SARS-CoV-2",system:"http://snomed.info/sct"}],text:"Hatten Sie engen Kontakt zu einem bestätigten Fall?",answerValueSet:"#yesno",item:[{linkId:"C0-Explanation",type:"display",text:'Enger Kontakt mit einem bestätigten Fall bedeutet:\n\n* Kontakt von Angesicht zu Angesicht länger als 15 Minuten\n* Direkter, physischer Kontakt (Berührung, Händeschütteln, Küssen)\n* Länger als 15 Minuten direkt neben einer infizierten Person (weniger als 1,5 Meter Abstand) verbracht\n* Kontakt mit oder Austausch von Körperflüssigkeiten\n* Teilen einer Wohnung\n\n\nFalls Sie Kontakt hatten, aber adäquate Schutzmaßnahmen (Maske, Kittel) getragen haben, wählen Sie "Nein".'}]},{type:"date",required:!0,linkId:"CZ",code:[{code:"94652-5",display:"Known exposure date",system:"http://loinc.org"}],text:"An welchem Tag war der letzte Kontakt?",enableWhen:[{question:"C0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],item:[{linkId:"CZ-Explanation",type:"display",text:"Achten Sie darauf, ein vollständiges Datum einzugeben, das nicht in der Zukunft liegt."}]}]},{type:"group",required:!0,linkId:"S",text:"Symptome",item:[{type:"choice",required:!0,linkId:"S0",code:[{code:"386661006",display:"Fever (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Fieber (über 38°C)?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"S1",code:[{code:"386661006",display:"Fever (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 4 Tagen Fieber (über 38°C)?",answerValueSet:"#yesno",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA32-8"}}]},{type:"choice",required:!0,linkId:"S2",code:[{code:"8315-4",display:"Body temperature 24 hour maximum",system:"http://loinc.org"}],text:"Wie hoch war die höchste Temperatur ca.?",answerValueSet:"#fever-class",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S1",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],enableBehavior:"any"},{type:"choice",required:!0,linkId:"S3",code:[{code:"43724002",display:"Chill (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Schüttelfrost?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"S4",code:[{code:"84229001",display:"Fatigue (finding)",system:"http://snomed.info/sct"}],text:"Haben Sie sich in den letzten 24 Std. schlapp oder abgeschlagen gefühlt?",answerValueSet:"#yesno",item:[{linkId:"S4-Explanation",type:"display",text:"Die Frage bezieht sich auf akut aufgetretene oder verstärkte Symptome und schließt chronische Beschwerden und saisonale bzw. allergische Beschwerden aus. Sollten Sie eine chronische Erkrankung haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen mit Ihren bisherigen Beschwerden."}]},{type:"choice",required:!0,linkId:"S5",code:[{code:"68962001",display:"Muscle pain (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Gliederschmerzen?",answerValueSet:"#yesno",item:[{linkId:"S5-Explanation",type:"display",text:"Die Frage bezieht sich auf akut aufgetretene oder verstärkte Symptome und schließt chronische Beschwerden und saisonale bzw. allergische Beschwerden aus. Sollten Sie eine chronische Erkrankung haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen mit Ihren bisherigen Beschwerden."}]},{type:"choice",required:!0,linkId:"S6",code:[{code:"49727002",display:"Cough (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. anhaltenden Husten?",answerValueSet:"#yesno",item:[{linkId:"S6-Explanation",type:"display",text:"Die Frage bezieht sich auf Erkältungssymptome und schließt chronischen Husten oder saisonalen bzw. allergischen Husten aus. Sollten Sie einen chronischen Husten haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen Beschwerden mit Ihren bisherigen Problemen."}]},{type:"choice",required:!0,linkId:"S7",code:[{code:"82272006",display:"Common cold (disorder)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Schnupfen?",answerValueSet:"#yesno",item:[{linkId:"S7-Explanation",type:"display",text:"Die Frage bezieht sich auf Erkältungssymptome und schließt chronischen Schnupfen oder saisonalen bzw. allergischen Schnupfen aus. Sollten Sie einen chronischen Schnupfen haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen Beschwerden mit Ihren bisherigen Problemen."}]},{type:"choice",required:!0,linkId:"S8",code:[{code:"62315008",display:"Diarrhea (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Durchfall?",answerValueSet:"#yesno",item:[{linkId:"S8-Explanation",type:"display",text:"Die Frage bezieht sich auf akut aufgetretene oder verstärkte Symptome und schließt chronische Beschwerden und saisonale bzw. allergische Beschwerden aus. Sollten Sie eine chronische Erkrankung haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen mit Ihren bisherigen Beschwerden."}]},{type:"choice",required:!0,linkId:"S9",code:[{code:"162397003",display:"Pain in throat (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Halsschmerzen?",answerValueSet:"#yesno"},{type:"choice",required:!0,linkId:"SA",code:[{code:"25064002",display:"Headache (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Kopfschmerzen?",answerValueSet:"#yesno",item:[{linkId:"SA-Explanation",type:"display",text:"Die Frage bezieht sich auf akut aufgetretene oder verstärkte Symptome und schließt chronische Beschwerden und saisonale bzw. allergische Beschwerden aus. Sollten Sie eine chronische Erkrankung haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen mit Ihren bisherigen Beschwerden."}]},{type:"choice",required:!0,linkId:"SB",code:[{code:"267036007",display:"Dyspnea (finding)",system:"http://snomed.info/sct"}],text:"Sind Sie in den letzten 24 Std. schneller außer Atem als sonst?",answerValueSet:"#yesno",item:[{linkId:"SB-Explanation",type:"display",text:'Wählen Sie "Ja", wenn Sie:\n* Bei leichten Belastungen, wie einem Spaziergang oder dem Steigen weniger Treppenstufen schneller als sonst kurzatmig werden oder Schwierigkeiten beim Atmen haben\n* Das Gefühl der Atemnot/Luftnot oder Kurzatmigkeit beim Sitzen oder Liegen verspüren\n* Beim Aufstehen aus dem Bett oder vom Stuhl das Gefühl der Atemnot/Luftnot haben\n\n\nSollten Sie eine chronische Lungenerkrankung haben, vergleichen Sie Ihre derzeitigen Beschwerden im Hinblick auf Ihre Atmung mit Ihren bisherigen Atemproblemen.'}]},{type:"choice",required:!0,linkId:"SC",code:[{code:"44169009",display:"Loss of sense of smell (finding)",system:"http://snomed.info/sct"}],text:"Hatten Sie in den letzten 24 Std. Geschmacks- und/oder Geruchsverlust?",answerValueSet:"#yesno",item:[{linkId:"SC-Explanation",type:"display",text:"Die Frage bezieht sich auf akut aufgetretene oder verstärkte Symptome und schließt chronische Beschwerden und saisonale bzw. allergische Beschwerden aus. Sollten Sie eine chronische Erkrankung haben, vergleichen Sie für die Beantwortung der Frage Ihre derzeitigen mit Ihren bisherigen Beschwerden."}]},{type:"date",required:!0,linkId:"SZ",code:[{code:"85585-8",display:"Date of condition onset",system:"http://loinc.org"}],text:"Bezogen auf alle Fragen zu Symptomen: Seit wann haben Sie die von Ihnen angegebenen Symptome?",enableWhen:[{question:"S0",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S1",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S3",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S4",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S5",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S6",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S7",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S8",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"S9",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SA",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SB",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}},{question:"SC",operator:"=",answerCoding:{system:"http://loinc.org",code:"LA33-6"}}],enableBehavior:"any",item:[{linkId:"SZ-Explanation",type:"display",text:"Achten Sie darauf, ein vollständiges Datum einzugeben, das nicht in der Zukunft liegt."}]}]},{type:"group",required:!0,linkId:"D",text:"Kronische Erkrankungen",item:[{type:"choice",required:!0,linkId:"D0",code:[{code:"413839001",display:"Chronic lung disease (disorder)",system:"http://snomed.info/sct"}],text:"Wurde bei Ihnen durch einen Arzt/eine Ärztin eine chronische Lungenerkrankung festgestellt?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D1",code:[{code:"73211009",display:"Diabetes mellitus (disorder)",system:"http://snomed.info/sct"}],text:"Wurde bei Ihnen durch einen Arzt/eine Ärztin Diabetes festgestellt?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D2",code:[{code:"56265001",display:"Heart disease (disorder)",system:"http://snomed.info/sct"}],text:"Wurde bei Ihnen durch einen Arzt/eine Ärztin eine Herzerkrankung festgestellt?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"D3",code:[{code:"414916001",display:"Obesity (disorder)",system:"http://snomed.info/sct"}],text:"Wurde bei Ihnen durch einen Arzt/eine Ärztin Adipositas (Fettsucht) festgestellt?",answerValueSet:"#yesnodontknow"}]},{type:"group",required:!0,linkId:"M",text:"Medikation",item:[{type:"choice",required:!0,linkId:"M0",code:[{code:"steroid-intake",display:"Taking steroids",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Nehmen Sie aktuell Cortison ein (in Tablettenform)?",answerValueSet:"#yesnodontknow"},{type:"choice",required:!0,linkId:"M1",code:[{code:"immunosuppressant-intake",display:"Taking immunosuppressants",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Nehmen Sie aktuell Immunsuppressiva?",answerValueSet:"#yesnodontknow",item:[{linkId:"M1-Explanation",type:"display",text:"Immunsuppressiva nehmen oder bekommen Sie nach einer Organtransplantation, während der Therapie einer Autoimmunerkrankung oder im Rahmen einer Chemotherapie."}]},{type:"choice",required:!0,linkId:"M2",code:[{code:"recent-influenza-vaccine",display:"Influenza vaccine for the current influenza season",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/medication-questions"}],text:"Haben Sie sich im Zeitraum von Oktober 2019 bis heute gegen Grippe impfen lassen?",answerValueSet:"#yesno"}]}],language:"de",contained:[{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/age-group",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Agegroup",status:"active",description:"Age groups",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group"}]},language:"de",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:eca548b7-7df2-4794-9ad0-f31273d85f01",contains:[{code:"below-40",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"jünger als 40"},{code:"40-50",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"40-50"},{code:"51-60",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"51-60"},{code:"61-70",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"61-70"},{code:"71-80",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"71-80"},{code:"above-80",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/age-group",display:"über 80"}]},id:"age-group"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/yesno",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Yesno",status:"active",description:"Yes/No",immutable:!1,compose:{include:[{system:"http://loinc.org",concept:[{code:"LA33-6"},{code:"LA32-8"}]}]},language:"de",expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:bd42dc55-97fc-464c-a9af-5082b82b8eeb",contains:[{code:"LA33-6",system:"http://loinc.org",display:"Ja"},{code:"LA32-8",system:"http://loinc.org",display:"Nein"}]},id:"yesno"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/housing-situation",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Housingsituation",status:"active",immutable:!1,description:"Living situation",compose:{include:[{system:"http://loinc.org",concept:[{code:"LA6255-9"},{code:"LA9996-5"}]}]},language:"de",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:9875bde4-e4f5-4475-8e87-5a5f9a8d07bf",contains:[{code:"LA6255-9",system:"http://loinc.org",display:"Allein wohnend"},{code:"LA9996-5",system:"http://loinc.org",display:"Wohnt mit anderen zusammen"}]},id:"housing-situation"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/occupation-class",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Occupationclass",status:"active",description:"Occupation",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class"},{system:"http://loinc.org",concept:[{code:"LA46-8"}]}]},language:"de",expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:19d12906-6969-4876-9849-ed21ee85d1ea",contains:[{code:"medical",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class",display:"Medizinischen Bereich (Pflege, Arztpraxis oder Krankenhaus)"},{code:"community",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/occupation-class",display:"Gemeinschaftseinrichtung (Schule, Kita, Universität, Heim etc.)"},{code:"LA46-8",system:"http://loinc.org",display:"Sonstiges"}]},id:"occupation-class"},{resourceType:"ValueSet",language:"de",url:"http://loinc.org/vs/LL4129-4",identifier:[{system:"urn:ietf:rfc:3986",value:"urn:oid:1.3.6.1.4.1.12009.10.1.2727"}],version:"Loinc_2.67",name:"Pregnant|Not pregnant|Unknown",status:"active",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],copyright:"This content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at https://loinc.org/license/",compose:{include:[{system:"http://loinc.org",concept:[{code:"LA15173-0"},{code:"LA26683-5"},{code:"LA4489-6"}]}]},expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:a4fda0b4-e982-4a57-8b62-0b19a080618c",contains:[{code:"LA15173-0",system:"http://loinc.org",display:"schwanger"},{code:"LA26683-5",system:"http://loinc.org",display:"nicht schwanger"},{code:"LA4489-6",system:"http://loinc.org",display:"unbekannt"}]},id:"LL4129-4"},{resourceType:"ValueSet",language:"de",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/fever-class",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Feverclass",status:"active",description:"Fever groups",immutable:!1,compose:{include:[{system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class"},{system:"http://loinc.org",concept:[{code:"LA12688-0"}]}]},expansion:{timestamp:"2020-05-27T11:22:49.942Z",identifier:"urn:uuid:42d12c56-a3e3-4545-ae01-0d8cc6e01ac9",contains:[{code:"below-38C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"< 38 °C"},{code:"38C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"38 °C"},{code:"39C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"39 °C"},{code:"40C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"40 °C"},{code:"41C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"41 °C"},{code:"42C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"42 °C"},{code:"above-42C",system:"http://fhir.data4life.care/covid-19/r4/CodeSystem/fever-class",display:"> 42 °C"},{code:"LA12688-0",system:"http://loinc.org",display:"Ich weiß es nicht"}]},id:"fever-class"},{resourceType:"ValueSet",url:"http://fhir.data4life.care/covid-19/r4/ValueSet/yesnodontknow",publisher:"D4L data4life gGmbH",contact:[{name:"D4L data4life gGmbH",telecom:[{system:"url",value:"https://www.data4life.care"}]}],name:"Yesnodontknow",status:"active",description:"Yes/no/don't know",immutable:!1,compose:{include:[{system:"http://loinc.org",concept:[{code:"LA33-6"},{code:"LA32-8"},{code:"LA12688-0"}]}]},language:"de",expansion:{timestamp:"2020-05-27T11:22:49.943Z",identifier:"urn:uuid:0894df06-993f-40df-8a48-15d021c2869d",contains:[{code:"LA33-6",system:"http://loinc.org",display:"Ja"},{code:"LA32-8",system:"http://loinc.org",display:"Nein"},{code:"LA12688-0",system:"http://loinc.org",display:"Ich weiß es nicht"}]},id:"yesnodontknow"}]};var S;!function(e){e[e.IFRAME=0]="IFRAME",e[e.OAUTH=1]="OAUTH"}(S||(S={}));const w=class{constructor(i){e(this,i),this.submitted=!1,this.imported=!1,this.mode=S.IFRAME,this.isEmbedded=t(this,"isEmbedded",7)}changedLanguageHandler(e){this.language=e.detail.code}get currentLanguage(){return this.language||"en"}messageHandler({data:e={},origin:t}){const{type:i,event:o}=e;if("covapp_import"===i){if(!n.includes(t))throw new Error(`Origin ${t} is not in the list of allowed import hosts.`);this.origin=t,"imported"===o&&(this.imported=!0)}}postMessage(e,t=null){this.mode===S.IFRAME&&window.parent&&window.parent.postMessage({type:"covapp_export",event:e,payload:t},this.origin||"*")}componentWillLoad(){this.history.replace("/")}componentDidLoad(){this.timeout=setInterval(()=>{const e="true"===localStorage.getItem(r.COMPLETED);this.hasFinishedQuestionnaire!==e&&(this.hasFinishedQuestionnaire=e)},2e3)}componentDidUnload(){clearInterval(this.timeout)}exportOauth(e,t){const{origin:i}=this,a=encodeURIComponent(window.btoa(JSON.stringify(e)));if(n.includes(i))return void(document.location.href=`${this.origin}${this.origin.includes("localhost")?"":"/corona"}/import#fhir=${a}`);const r=d[i],c=r&&{ANDROID:o,IOS:s}[r];if(!c)throw new Error(`Export to origin ${i} failed`);document.location.href=`${c}?data=${a}&version=${t}`}exportData(e){if(e.preventDefault(),!this.origin)return;if(this.submitted)return void this.postMessage("proceed");const t=JSON.parse(localStorage.getItem("answers")),i="de"===this.currentLanguage?f:g,n=((e,t)=>{const i=c(t.item,"linkId"),n=c(t.contained,"id"),o=Object.keys(e).filter(t=>!Array.isArray(e[t])).reduce((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]}),{});return{resourceType:"QuestionnaireResponse",language:t.language,questionnaire:`${t.url}|${t.version}`,authored:(new Date).toISOString(),status:"completed",item:l(o,i,n)}})(t,i);this.submitted=!0,localStorage.setItem(r.EXPORTED,"true"),this.mode===S.IFRAME&&this.postMessage("export",{fhir:n}),this.mode===S.OAUTH&&this.exportOauth(n,i.version)}get button(){if(!this.hasFinishedQuestionnaire)return i("a",{href:`/?source=${encodeURI(this.origin)}`,target:"_parent"},i("d4l-button",{classes:"button--block","data-test":"openQuestionnaireButton",text:a.t("export_go-start_button"),"is-route-link":!0}));const e=this.submitted&&!this.imported;return i("d4l-button",{classes:"button--block","data-test":"exportDataButton","is-loading":e,text:e?" ":a.t(this.imported?"export_continue_button":"export_execute_button")})}render(){const{hasFinishedQuestionnaire:e,submitted:t,origin:n,button:o}=this;return n&&i("div",{class:"c-card-wrapper export"},i("form",{onSubmit:e=>this.exportData(e),"data-test":"dataTransferForm"},i("d4l-card",{classes:"card--desktop card--text-center card--no-padding"},i("div",{class:"export__header",slot:"card-header"},i("ia-logo-d4l",null)),i("div",{class:"export__content",slot:"card-content"},i("ia-covapp-to-data4life",{success:t}),i("div",{class:"export__content__text"},i("h3",null,a.t("export_headline_text")),i("p",{innerHTML:a.t(e?t?"export_description_submitted_text":"export_description_text":"export_description_not-finished_text")})),!t&&e&&i("div",{class:"export__checkbox"},i("d4l-checkbox",{"checkbox-id":"with-content-slot",name:"content-slot",required:!0},i("div",{slot:"checkbox-label"},i("h3",{class:"export__label u-text-align--left"},a.t("export_checkbox_headline_label")),i("p",{class:"u-text-align--left",innerHTML:a.t("export_checkbox_description_label")}))))),i("div",{class:"export__footer",slot:"card-footer"},o))))}};w.style=".export .card.sc-d4l-card{padding:1.5em 1em}.export__header{padding:1.5em 1em 1em}.export__content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.export__content,.export__footer{border-top:1px solid var(--c-gray-lightest)}.export__content{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding-top:1.5em}.export__content__text{width:320px}.export__checkbox{border-top:1px solid var(--c-gray-lightest)}.export__checkbox{padding:1em 1.5em}.export__label{margin-top:-0.25em}.export__footer{padding:1.5em 1em}";export{w as ia_export}